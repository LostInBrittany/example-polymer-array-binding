<dom-module is="user-list">
  <template>
    <style>        
    </style>
    <div class="container">
      <h2>User list</h2>
      <table class="table table-striped">
        <tr>
          <th>#</td>
          <th>First name</th>
          <th>Last name</th>
          <th>Email</th>            
        </tr> 
        <template is="dom-repeat" items="{{users}}" as="user">
          <tr>
            <td>{{index}}</td>            
            <td>{{user.firstName}}</td> 
            <td>{{user.lastName}}</td> 
            <td>{{user.email}}</td>
          </tr>
        </template> 
      </table>
    </div>
  </template>
  <script>
    Polymer({        
      is: "user-list",
      properties: {
        users: {
          type: Array,
          // When initializing a property to an object or array value, use a function to ensure that each element
          // gets its own copy of the value, rather than having an object or array shared across all instances of the element
          value: function() { return []; }
        }
      }, 
      observers: [
        "usersChanged(users.splices)"
      ],
      usersChanged: function() {
        console.debug("User list", this.users);
      }      
    })
  </script>
</dom-module>